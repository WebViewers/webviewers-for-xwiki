<html>
  <head>
    <script>
require(['jquery', 'xJIO', 'renderjs'], function($, JIO, RenderJs) {
    var props = JSON.parse($('#text-editor').parent().attr('data-gadget-property'));
    var att = props.jioAttach;
    JIO.getAttachment(att, function (err, response) {
        if (err) { throw Error(err); }
        $('#text-editor').val(response);
    });
    $('#text-editor-save').click(function(ev) {
        ev.stopPropagation();
        att._data = $('#text-editor').val();
        att._mimetype = 'text/plain';
        JIO.putAttachment(att, function (err, response) {
            if (err) { throw Error(err); }
            console.log(response);
        });
    });
});
    </script>
  </head>
  <body>
    <textarea id="text-editor"></textarea>
    <input id="text-editor-save" type="button" value="Save" />
  </body>
</html>
